<form class="example-container" [formGroup]="form" (ngSubmit)="Guardar(false)">

    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Descripcion</mat-label>
        <textarea matInput placeholder="Descripción" formControlName="descripcion"></textarea>
        <mat-error *ngIf="form.controls.descripcion.hasError('required')">
            Descripcion<strong> requerida</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Precio Compra</mat-label>
        <input matInput placeholder="Precio de Compra del Producto" formControlName="precioCompra" >
        <span matPrefix>Bs&nbsp;</span>
        <mat-error *ngIf="form.controls.precioCompra.hasError('required')">
            Precio de Compra del Producto<strong> requerido</strong>
        </mat-error>
        <mat-error *ngIf="form.controls.precioCompra.invalid">
            Precio de Compra del Producto<strong> incorrecto</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Precio Venta</mat-label>
        <input matInput placeholder="Precio de Venta del Producto" formControlName="precioVenta">
        <span matPrefix>Bs&nbsp;</span>
        <mat-error *ngIf="form.controls.precioVenta.hasError('required')">
            Precio de Venta del Producto<strong> requerido</strong>
        </mat-error>
        <mat-error *ngIf="form.controls.precioVenta.invalid">
            Precio de Venta del Producto <strong> incorrecto</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Genero</mat-label>
        <mat-select  formControlName="genero">
            <mat-option value="Masculino">Masculino</mat-option>
            <mat-option value="Femenino">Femenino</mat-option>
            <mat-option value="Unisex">Unisex</mat-option>
        </mat-select>
        <mat-hint align="end">Seleccione un genero ^</mat-hint>
        <mat-error *ngIf="form.controls.genero.hasError('required')">
            Genero<strong> requerido</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Color</mat-label>
        <input matInput placeholder="Color" formControlName="color">
        <mat-error *ngIf="form.controls.color.hasError('required')">
            Color<strong> requerido</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Talla</mat-label>
        <input matInput placeholder="Talla" formControlName="talla">
        <mat-hint align="end">Caracteres Máximos  {{form.controls.talla.value?.length || 0}}/5</mat-hint>
        <mat-error *ngIf="form.controls.talla.hasError('required')">
            Talla<strong> requerido</strong>
        </mat-error>
        <mat-error *ngIf="form.controls.talla.invalid">
            Ingrese la talla<strong> correcta</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Marca</mat-label>
        <input matInput placeholder="Marca" formControlName="marca">
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Stock</mat-label>
        <input matInput placeholder="Stock" formControlName="stock" type="number">
        <mat-error *ngIf="form.controls.stock.hasError('required')">
            Stock<strong> requerido</strong>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Categoria</mat-label>
        <mat-select placeholder="Categorias de Producto" formControlName="idCategoria">
          <mat-option *ngFor="let obj of categorias" [value]="obj.id">
            {{obj.nombre}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">Seleccione una Categoria ^</mat-hint>
        <mat-error *ngIf="form.controls.idCategoria.hasError('required')">
            Categoria<strong> requerida</strong>
        </mat-error>
    </mat-form-field>
    


      <input #img type="file" (change)="onChange($event)" formControlName="imagen">

    <div *ngIf="myimage">
        <img [src]="myimage | async" width="200px" height="200px" alt="" />
    </div>

    <div *ngIf="myimage11">
        <img [src]="myimage11 | async" width="200px" height="200px" alt="" />
    </div>
    <br>

    <button type="submit" mat-raised-button color="primary" color="primary"  [disabled]="!form.valid" >Guardar Único Producto</button>
    <button type="button" mat-raised-button color="primary" color="primary"  [disabled]="!form.valid" (click)="Guardar(true)" *ngIf="visible">Guardar Más Productos</button>
</form>